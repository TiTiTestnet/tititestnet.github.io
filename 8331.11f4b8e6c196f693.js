"use strict";(self.webpackChunkapp_titi_frontend=self.webpackChunkapp_titi_frontend||[]).push([[8331],{38331:(u,r,n)=>{n.r(r),n.d(r,{AccountModalComponent:()=>T,AccountModalModule:()=>P});var d=n(69808),l=n(47423),a=n(48966),p=n(63874),c=n(87841),t=n(5e3),_=n(65707),m=n(71787),h=n(11730),M=n(94602),O=n(4640),f=n(75303);let T=(()=>{class o{constructor(e,i,g,C,v,A){this.chainInfoService=e,this.router=i,this.web3Service=g,this.accountService=C,this.web3ModalService=v,this.dialogRef=A,this.TiUSDBalance=0,this.TiTiBalance=0}ngOnInit(){this.fetchBalanceOfTiUSD(),this.fetchBalanceOfTiTi()}goSwap(){this.router.navigateByUrl("/swap").then(e=>{this.dialogRef.close()})}fetchBalanceOfTiUSD(){this.accountService.getCurrentAccountAsyn().then(e=>this.web3Service.invokeContract("TiUSD","balanceOf",[e]).then(i=>{this.TiUSDBalance=i[0]/10**18}))}fetchBalanceOfTiTi(){this.accountService.getCurrentAccountAsyn().then(e=>this.web3Service.invokeContract("TiTiToken","balanceOf",[e]).then(i=>{this.TiTiBalance=i[0]/10**18}))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(_.Z),t.Y36(m.F0),t.Y36(h.Uc),t.Y36(M.B),t.Y36(O.y),t.Y36(a.so))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-account-modal"]],decls:32,vars:12,consts:[[1,"dialog-wrapper"],["mat-dialog-title","",1,"dialog-header"],[1,"dialog-title"],[1,"spacer"],["mat-button","","color","accent",3,"mat-dialog-close","click"],[1,"divider"],[1,"mat-typography","balance-wrapper"],[1,"lable"],[1,"address"],[1,"balance"],["mat-raised-button","","color","primary",3,"click"],["target","_blank",3,"href"],["mat-raised-button","","color","primary",2,"width","100%"],["align","end"],["mat-stroked-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h2",2),t._uU(3,"Current Account"),t.qZA(),t._UZ(4,"span",3),t.TgZ(5,"button",4),t.NdJ("click",function(){return i.web3ModalService.disconnect()}),t._uU(6,"Disconnect"),t.qZA(),t.qZA(),t._UZ(7,"div",5),t.TgZ(8,"mat-dialog-content",6),t.TgZ(9,"span",7),t._uU(10,"Address:"),t.qZA(),t.TgZ(11,"p",8),t._uU(12),t.qZA(),t.TgZ(13,"span",7),t._uU(14,"TiUSD:"),t.qZA(),t.TgZ(15,"span",9),t._uU(16),t.ALo(17,"numberFormat"),t.qZA(),t.TgZ(18,"button",10),t.NdJ("click",function(){return i.goSwap()}),t._uU(19,"BUY"),t.qZA(),t.TgZ(20,"span",7),t._uU(21,"TiTi:"),t.qZA(),t.TgZ(22,"span",9),t._uU(23),t.ALo(24,"numberFormat"),t.qZA(),t.TgZ(25,"a",11),t.TgZ(26,"button",12),t._uU(27,"BUY"),t.qZA(),t.qZA(),t.qZA(),t._UZ(28,"div",5),t.TgZ(29,"mat-dialog-actions",13),t.TgZ(30,"button",14),t._uU(31,"OK"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(5),t.Q6J("mat-dialog-close",!0),t.xp6(7),t.Oqu(i.accountService.currentAccount),t.xp6(4),t.Oqu(t.xi3(17,6,i.TiUSDBalance,4)),t.xp6(7),t.Oqu(t.xi3(24,9,i.TiTiBalance,4)),t.xp6(2),t.Q6J("href",i.chainInfoService.getChainConfig().buyTiTiUrl,t.LSH),t.xp6(5),t.Q6J("mat-dialog-close",!0))},directives:[a.uh,l.lW,a.ZT,a.xY,a.H8],pipes:[f.p],styles:[".dialog-wrapper[_ngcontent-%COMP%]{width:30vw}.dialog-title[_ngcontent-%COMP%]{color:#2dd6b5;margin:0 8px}.dialog-header[_ngcontent-%COMP%]{display:flex;width:100%}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.balance-wrapper[_ngcontent-%COMP%]{width:calc(30vw - 24px);padding:24px 0;overflow:hidden;display:grid;grid-template-columns:96px auto 64px;grid-column-gap:24px;column-gap:24px;grid-row-gap:1rem;row-gap:1rem;align-items:center}.balance-wrapper[_ngcontent-%COMP%]   .address[_ngcontent-%COMP%]{grid-column-start:span 2}.balance-wrapper[_ngcontent-%COMP%]   .lable[_ngcontent-%COMP%]{font-size:12px;justify-self:end;color:#2dd6b5}.balance-wrapper[_ngcontent-%COMP%]   .balance[_ngcontent-%COMP%]{font-size:24px;justify-self:start}.balance-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{justify-self:start;font-size:12px;line-height:16px;margin:0}.titi-dark-theme[_nghost-%COMP%]   .divider[_ngcontent-%COMP%], .titi-dark-theme   [_nghost-%COMP%]   .divider[_ngcontent-%COMP%]{height:1px;width:100%;margin:0;background:linear-gradient(90deg,rgba(255,255,255,0),#0F5F4F,rgba(255,255,255,0))}.divider[_ngcontent-%COMP%]{height:1px;width:100%;margin:0;background:#afafaf5b}.titi-dark-theme[_nghost-%COMP%]   .pendding-icon[_ngcontent-%COMP%], .titi-dark-theme   [_nghost-%COMP%]   .pendding-icon[_ngcontent-%COMP%]{color:#ffffa8}.pendding-icon[_ngcontent-%COMP%]{color:#ffc400}@media screen and (max-width: 1024px){.dialog-wrapper[_ngcontent-%COMP%]{width:calc(80vw - 78px);padding:0 12px}.balance-wrapper[_ngcontent-%COMP%]{width:100%}.address[_ngcontent-%COMP%]{width:100%;text-overflow:ellipsis;overflow:hidden;height:12px}}"]}),o})(),P=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[d.ez,p.Ps,l.ot,a.Is,c.m]]}),o})()},75303:(u,r,n)=>{n.d(r,{p:()=>l});var d=n(5e3);let l=(()=>{class a{transform(c,t){const _=Math.pow(10,t);return(Math.floor(c*_)/_).toFixed(t)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275pipe=d.Yjl({name:"numberFormat",type:a,pure:!0}),a})()}}]);