"use strict";(self.webpackChunkapp_titi_frontend=self.webpackChunkapp_titi_frontend||[]).push([[9016],{39016:(nt,M,r)=>{r.r(M),r.d(M,{MmfModule:()=>it});var d=r(69808),m=r(93075),w=r(71787),_=r(15861),k=r(11730),v=r(24102),y=r(98538),h=r.n(y),u=r(28321),P=r(17489),f=r(48634),t=r(5e3),F=r(65707),b=r(57610),Z=r(63874),D=r(22313),R=r(53405),L=r(74696),I=r(31657),V=r(48966),q=r(92134),g=r(67322),S=r(77531),x=r(47423),C=r(4834),A=r(26688),O=r(11523),Y=r(75303);function H(a,c){if(1&a){const i=t.EpF();t.ynx(0),t.TgZ(1,"mat-form-field",17),t.TgZ(2,"mat-label"),t._uU(3),t.ALo(4,"numberFormat"),t.qZA(),t.TgZ(5,"input",35),t.NdJ("input",function(n){return t.CHM(i),t.oxw().onStakingInputValueChange(n)}),t.qZA(),t._UZ(6,"mat-icon",36),t.TgZ(7,"button",20),t.NdJ("click",function(){return t.CHM(i),t.oxw().maxStakeInputValue()}),t._uU(8,"MAX"),t.qZA(),t.qZA(),t.TgZ(9,"button",21),t.NdJ("click",function(){return t.CHM(i),t.oxw().onStake()}),t._uU(10),t.qZA(),t.TgZ(11,"mat-form-field",17),t.TgZ(12,"mat-label"),t._uU(13),t.ALo(14,"numberFormat"),t.qZA(),t.TgZ(15,"input",37),t.NdJ("input",function(n){return t.CHM(i),t.oxw().onWithdrawInputValueChange(n)}),t.qZA(),t._UZ(16,"mat-icon",36),t.TgZ(17,"button",20),t.NdJ("click",function(){return t.CHM(i),t.oxw().maxWithdrawInputValue()}),t._uU(18,"MAX"),t.qZA(),t.qZA(),t.TgZ(19,"button",21),t.NdJ("click",function(){return t.CHM(i),t.oxw().onWithdraw()}),t._uU(20),t.qZA(),t.BQk()}if(2&a){const i=t.oxw();t.xp6(3),t.hij("Balance: ",t.xi3(4,8,i.token1Balance,4)," USDC"),t.xp6(2),t.Q6J("ngModel",i.stakingInputValue),t.xp6(4),t.Q6J("disabled",!i.stakingInputValue||i.isZero(i.stakingInputValue)||i.isLoading||i.stakingInputValue>i.token1Balance),t.xp6(1),t.Oqu(i.isLoading?"waiting...":"STAKE"),t.xp6(3),t.hij("Staked + Reward: ",t.xi3(14,11,i.stakedLPTokenBalance,4)," USDC"),t.xp6(2),t.Q6J("ngModel",i.withdrawInputValue),t.xp6(4),t.Q6J("disabled",!i.withdrawInputValue||i.isZero(i.withdrawInputValue)||i.isLoading||i.withdrawInputValue>i.stakedLPTokenBalance),t.xp6(1),t.Oqu(i.isLoading?"waiting...":"WITHDRAW")}}function j(a,c){if(1&a){const i=t.EpF();t.ynx(0),t.TgZ(1,"div",38),t.TgZ(2,"p"),t._uU(3,"Please approve to gain access to subsequent actions."),t.qZA(),t.qZA(),t.TgZ(4,"button",21),t.NdJ("click",function(){return t.CHM(i),t.oxw().onApprove()}),t._uU(5),t.qZA(),t.BQk()}if(2&a){const i=t.oxw();t.xp6(4),t.Q6J("disabled",i.isLoading),t.xp6(1),t.Oqu(i.isLoading?"waiting...":"Approve")}}function J(a,c){1&a&&(t.TgZ(0,"span",45),t._uU(1,"Stake (Rewarded)"),t.qZA())}function B(a,c){1&a&&(t.TgZ(0,"span"),t._uU(1,"Withdraw"),t.qZA())}function N(a,c){1&a&&(t.TgZ(0,"span"),t._uU(1,"Claim Rewards"),t.qZA())}function E(a,c){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&a){const i=t.oxw().$implicit,e=t.oxw();t.xp6(1),t.hij("",t.xi3(2,1,e.formatTokenValue(i.amount,"6"),"1.2-4")," USDC")}}function Q(a,c){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&a){const i=t.oxw().$implicit,e=t.oxw();t.xp6(1),t.hij("",t.xi3(2,1,e.formatTokenValue(i.amount,"6"),"1.2-4")," USDC")}}function W(a,c){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&a){const i=t.oxw().$implicit,e=t.oxw();t.xp6(1),t.hij("",t.xi3(2,1,e.formatTokenValue(i.amount,"18"),"1.2-4")," TiTi")}}function z(a,c){if(1&a&&(t.ynx(0),t.TgZ(1,"a",39),t.TgZ(2,"span",40),t._uU(3),t.qZA(),t.TgZ(4,"mat-icon",41),t._uU(5,"open_in_new"),t.qZA(),t.qZA(),t.ynx(6,42),t.YNc(7,J,2,0,"span",43),t.YNc(8,B,2,0,"span",44),t.YNc(9,N,2,0,"span",44),t.BQk(),t.ynx(10,42),t.YNc(11,E,3,4,"span",44),t.YNc(12,Q,3,4,"span",44),t.YNc(13,W,3,4,"span",44),t.BQk(),t.TgZ(14,"span"),t._uU(15),t.ALo(16,"date"),t.qZA(),t.BQk()),2&a){const i=c.$implicit,e=t.oxw();t.xp6(1),t.Q6J("href",e.chainInfoService.getChainConfig().blockExplorerUrls[0]+"/tx/"+i.txHash,t.LSH),t.xp6(2),t.Oqu(i.txHash),t.xp6(3),t.Q6J("ngSwitch",i.type),t.xp6(1),t.Q6J("ngSwitchCase","0"),t.xp6(1),t.Q6J("ngSwitchCase","1"),t.xp6(1),t.Q6J("ngSwitchCase","2"),t.xp6(1),t.Q6J("ngSwitch",i.type),t.xp6(1),t.Q6J("ngSwitchCase","0"),t.xp6(1),t.Q6J("ngSwitchCase","1"),t.xp6(1),t.Q6J("ngSwitchCase","2"),t.xp6(2),t.Oqu(t.xi3(16,11,1e3*i.timestamp,"dd/M/y HH:mm:ss"))}}function $(a,c){1&a&&(t.ynx(0),t.TgZ(1,"span"),t._uU(2,"No data."),t.qZA(),t.BQk())}const U=[{token0:"TiUSD",token1:"USDC"}],X=[{path:"",component:(()=>{class a{constructor(i,e,n,s,o,l,p,T,et,at){this.chainInfoService=i,this.router=e,this.accountService=n,this.web3Service=s,this.graphService=p,this.echartService=T,this.refreshService=et,this.dialog=at,this.isLoading=!0,this.isApproved=!1,this.MMFPairList=U,this.currentMMFPair=U[0],this.mTokenBalance=0,this.claimableValue=0,this.decimal0=18,this.decimal1=6,this.totalStakedLPToken=0,this.stakedLPTokenShare=0,this.stakedLPTokenBalance=0,this.principal=0,this.token1Balance=0,this.stakingInputValue="0.0000",this.withdrawInputValue="0.0000",this.claimInputValue="0.0000",this.titiDailyPrice=[],this.mmfRewardDailyData=[],this.mmfTotalReward="0",this.mmfRewardIn24H=0,this.distributedTiTiRewards=0,this.rewardRate=0,this.currentRewardRate=0,this.epochNum=0,this.startTime=0,this.periodFinish=0,this.token1DailyData=[],this.historicalAPY=[{titi:0,mmf:0}],this.option={},this.historicalRewardRates=[],this.currentAPY={titi:0,mmf:0},this.avgMmfApy=0,this.mmfRecords=[],o.addSvgIconLiteral("USDC",l.bypassSecurityTrustHtml(v.WZ)),o.addSvgIconLiteral("TiUSD",l.bypassSecurityTrustHtml(v.Mg)),o.addSvgIconLiteral("TiTi",l.bypassSecurityTrustHtml(v.FZ))}formatTokenValue(i,e){return(0,f.formatUnits)(i,e)}calcHistoricalAPY(){var i;const e=Array(30).fill({titi:0,mmf:0}),n=(0,u.Gq)().reverse();n.forEach((s,o)=>{const l=this.historicalRewardRates.find(T=>s>=1e3*T.startTimestamp&&s<1e3*T.periodFinish);e[o]={titi:this.token1DailyData[o].mmfFund1>0?this.titiDailyPrice[o]*(l?l.rewardRate:0)*86400*100*365*10**this.decimal1/(this.token1DailyData[o].price1*this.token1DailyData[o].mmfFund1*10**this.decimal0):0,mmf:0}}),this.mmfRewardDailyData.forEach(s=>{const o=n.indexOf(1e3*s.dayStartTimestamp);-1!==o&&(e[o].mmf=this.token1DailyData[o].mmfFund1>0?100*s.mmfReward*365/this.token1DailyData[o].mmfFund1:0)}),this.historicalAPY=e,this.currentAPY={mmf:null===(i=this.historicalAPY[this.historicalAPY.length-1])||void 0===i?void 0:i.mmf,titi:this.token1DailyData[29].price1*this.token1DailyData[29].mmfFund1<=0?0:this.titiDailyPrice[29]*this.rewardRate*86400*100*365*10**this.decimal1/(this.token1DailyData[29].price1*this.token1DailyData[29].mmfFund1*10**this.decimal0)},this.avgMmfApy=this.mmfTotalReward/10**6*31536e6/(this.totalStakedLPToken*((new Date).getTime()-this.chainInfoService.getChainConfig().startTime)),this.buildOption()}getCurrentEpochTiTiRewards(){return(new Date).getTime()>1e3*this.periodFinish?0:this.rewardRate*(1*this.periodFinish-1*this.startTime)/10**18}isZero(i){return 0===Number.parseFloat(i)}onStakingInputValueChange(i){this.stakingInputValue=(0,u.Y4)(i.target.value),i.target.value=this.stakingInputValue}onWithdrawInputValueChange(i){this.withdrawInputValue=(0,u.Y4)(i.target.value),i.target.value=this.withdrawInputValue}onClaimInputValueChange(i){this.claimInputValue=(0,u.Y4)(i.target.value),i.target.value=this.claimInputValue}ngOnInit(){this.initData(),this.fetchApproveInfo();const i=this.refreshService.registerFunction(()=>this.initData()),e=this.refreshService.registerFunctionWithoutInterval(()=>this.fetchApproveInfo());this.unregister=()=>{i(),e()}}ngOnDestroy(){this.unregister()}initData(){this.fetchTotalStakedLPToken(),this.fetchBalanceOfStakedLPToken(),this.fetchBalanceOfToken1(),this.fetchBalanceOfmToken(),this.fetchClaimable(),Promise.all([this.fetchTiTiDailyPrice(),this.fetchEpochInfo(),this.fetchMMFRewardDailyData(),this.fetchMMFRewardHourDataIn24H(),this.fetchToken1DailyPrice(),this.fetchOption()]).then(()=>{this.calcHistoricalAPY()}),this.fetchMMFRecords()}fetchMMFRecords(){this.graphService.fetchMMFRecords().then(({data:i})=>{this.mmfRecords=i.mmfrecords.map(e=>({txHash:e.id,type:e.type,amount:e.amount,timestamp:e.timestamp}))})}fetchApproveInfo(){this.isLoading=!0,this.accountService.getCurrentAccountAsyn().then(i=>Promise.all([this.web3Service.invokeContract("USDC","allowance",[i,this.chainInfoService.getChainConfig().contractAddressMap.MarketMakerFund]),this.web3Service.invokeContract("USDC","balanceOf",[i])]).then(([e,n])=>{"0"!==e[0]&&new(h())(e[0]).gt(n[0])?(this.isApproved=!0,this.isLoading=!1):(this.isApproved=!1,this.isLoading=!1)}))}onApprove(){this.isLoading=!0,this.web3Service.invokeContract("USDC","approve",[this.chainInfoService.getChainConfig().contractAddressMap.MarketMakerFund,k.fV]).then(i=>{i.status?(this.isApproved=!0,this.isLoading=!1):(this.isApproved=!1,this.isLoading=!1)},i=>{this.isApproved=!1,this.isLoading=!1})}fetchOption(){return this.echartService.fetchOption("MMF-APY").then(i=>this.option=i)}buildOption(){this.option.series[0].data=this.historicalAPY.map(i=>i.mmf+i.titi),this.option=(0,P.cloneDeep)(this.option)}fetchTotalStakedLPToken(){}fetchBalanceOfStakedLPToken(){this.accountService.getCurrentAccountAsyn().then(i=>this.web3Service.invokeContract("MMFLPStakingPool","balanceOf",[i]).then(e=>(this.stakedLPTokenShare=e[0],Promise.all([this.web3Service.invokeContract("MarketMakerFund","getShareValue",[this.stakedLPTokenShare]),this.graphService.fetchMMFUserPrincipal(i)]))).then(([e,n])=>{this.stakedLPTokenBalance=new(h())(e[0]).div(new(h())("10").pow(new(h())(this.decimal1-5))).toNumber()/1e5,this.principal=n.data.mmfuser?n.data.mmfuser.principal/10**6:0}))}fetchBalanceOfToken1(){this.accountService.getCurrentAccountAsyn().then(i=>this.web3Service.invokeContract(this.currentMMFPair.token1,"balanceOf",[i]).then(e=>{this.token1Balance=parseFloat(new(h())(e[0]).div(new(h())("10").pow(new(h())(this.decimal1-4))).toString())/1e4}))}fetchBalanceOfmToken(){this.accountService.getCurrentAccountAsyn().then(i=>this.web3Service.invokeContract("MarketMakerFund","balanceOf",[i]).then(e=>{this.mTokenBalance=parseFloat(new(h())(e[0]).div(new(h())("10").pow(new(h())(2))).toString())/1e4}))}fetchClaimable(){this.accountService.getCurrentAccountAsyn().then(i=>this.web3Service.invokeContract("MMFLPStakingPool","earned",[i]).then(e=>{this.claimableValue=parseFloat(new(h())(e[0]).div(new(h())("10").pow(new(h())(14))).toString())/1e4;const n=Math.pow(10,4);this.claimInputValue=(0,u.Y4)(Math.floor(this.claimableValue*n)/n+"")}))}fetchEpochInfo(){var i=this;return Promise.all([this.web3Service.invokeContract("MMFLPStakingPool","rewardRate",[]),this.graphService.fetchStakingEpochOverview(this.chainInfoService.getChainConfig().contractAddressMap.MMFLPStakingPool),this.web3Service.invokeContract("MMFLPStakingPool","startTime",[]),this.web3Service.invokeContract("MMFLPStakingPool","periodFinish",[])]).then(function(){var e=(0,_.Z)(function*(n){var s;const o=(new Date).getTime()/1e3;i.epochNum=(null===(s=n[1].data.lpstakingEpochOverview)||void 0===s?void 0:s.currentEpochNum)||1,i.startTime=n[2][0],i.periodFinish=n[3][0],i.currentRewardRate=n[0][0],i.rewardRate=o>i.periodFinish||o<i.startTime?0:n[0][0],i.distributedTiTiRewards=0,i.distributedTiTiRewards+=n[0][0]*((o>i.periodFinish?i.periodFinish:o>i.startTime?o:i.startTime)-i.startTime)/10**18,yield i.fetchHistoricalMMFStakingEpoch()});return function(n){return e.apply(this,arguments)}}())}fetchTiTiDailyPrice(){return Promise.all([this.graphService.fetchUniwapPairDailyData(),this.web3Service.invokeContract("UniswapV2Pair","getReserves",[])]).then(([{data:i},e])=>{const n=Array(30).fill(null),s=(0,u.Gq)().reverse();i.uniswapPair&&0===i.uniswapPair.dailyData.length?n.fill(e[1]/e[0]):i.uniswapPair.dailyData.forEach(l=>{const p=s.indexOf(1e3*l.dayStartTimestamp);-1!==p&&(n[p]=l.fund1/l.fund0)});let o="0";n.forEach((l,p)=>{null==l?n[p]=o:o=n[p]}),this.titiDailyPrice=n})}fetchMMFRewardDailyData(){return this.graphService.fetchMMFRewardDailyData(this.chainInfoService.getChainConfig().contractAddressMap.MAMMSwapPair).then(({data:i})=>{this.mmfRewardDailyData=i.pair.mmfRewardDailyData,this.mmfTotalReward=i.pair.mmfReward})}fetchMMFRewardHourDataIn24H(){return this.graphService.fetchMMFRewardHourDataIn24H(this.chainInfoService.getChainConfig().contractAddressMap.MAMMSwapPair).then(({data:i})=>{this.mmfRewardIn24H=0,i.pair.mmfRewardHourData.forEach(e=>this.mmfRewardIn24H+=e.mmfReward/10**this.decimal1)})}fetchToken1DailyPrice(){return this.graphService.fetchMMFSwapPairDailyData(this.chainInfoService.getChainConfig().contractAddressMap.MAMMSwapPair).then(({data:i})=>{const e=Array(30).fill(null),n=(0,u.Gq)().reverse();i.pair.pairDailyData.forEach(o=>{const l=n.indexOf(1e3*o.dayStartTimestamp);-1!==l&&(e[l]={price1:o.fund0*10**this.decimal1/(o.fund1*10**this.decimal0),mmfFund1:o.mmfFund1})});let s={price1:0,mmfFund1:0};e.forEach((o,l)=>{null==o?e[l]=s:s=o}),this.token1DailyData=e,e.length>0&&(this.totalStakedLPToken=e[e.length-1].mmfFund1/10**this.decimal1)})}fetchHistoricalMMFStakingEpoch(){return this.graphService.fetchHistoricalMMFStakingEpoch(this.epochNum).then(({data:i})=>{this.historicalRewardRates=[],i.mmfstakingEpoches.forEach(e=>{this.distributedTiTiRewards+=1*e.totalReward,this.historicalRewardRates.push({epochNum:e.epochNum,startTimestamp:e.startTimestamp,periodFinish:e.periodFinish,rewardRate:e.totalReward*10**18/(e.periodFinish-e.startTimestamp)})}),this.historicalRewardRates.push({epochNum:this.epochNum,startTimestamp:this.startTime,periodFinish:this.periodFinish,rewardRate:this.currentRewardRate})})}onStake(){this.isLoading=!0,Math.pow(10,4);const e=(0,f.parseUnits)(this.stakingInputValue,this.decimal1);this.web3Service.openApproveModal(this.currentMMFPair.token1,e,"MarketMakerFund",n=>{n&&this.web3Service.invokeContract("MarketMakerFund","addLiquidity",[e.toString(),!0]).then(s=>{this.isLoading=!1},s=>{this.isLoading=!1})})}onWithdraw(){this.isLoading=!0;const i=new(h())((0,f.parseUnits)(this.withdrawInputValue,this.decimal1).toString()).mul(new(h())(this.stakedLPTokenShare)).div(new(h())((0,f.parseUnits)(this.stakedLPTokenBalance+"",this.decimal1).toString()));this.web3Service.invokeContract("MarketMakerFund","removeLiquidity",[i.toString(),!0]).then(e=>{this.isLoading=!1},e=>{this.isLoading=!1})}onClaim(){this.isLoading=!0;const i=Math.pow(10,4);(Math.floor(this.claimableValue*i*10**18)/i).toFixed(0),this.web3Service.invokeContract("MMFLPStakingPool","getReward",[]).then(n=>{this.isLoading=!1,r.e(1797).then(r.bind(r,51797)).then(({TitiStakingModalComponent:s})=>{this.dialog.open(s).afterClosed().subscribe(l=>{l&&this.router.navigateByUrl("/titiStaking")})})},n=>{this.isLoading=!1})}onWithdrawAll(){this.web3Service.invokeContract("MarketMakerFund","withdrawAll",[]).then(i=>{})}maxStakeInputValue(){const i=Math.pow(10,4);this.stakingInputValue=(Math.floor(this.token1Balance*i)/i).toFixed(4)}maxWithdrawInputValue(){const i=Math.pow(10,4);this.withdrawInputValue=(Math.floor(this.stakedLPTokenBalance*i)/i).toFixed(4)}maxClaimInputValue(){const i=Math.pow(10,4);this.claimInputValue=(Math.floor(this.claimableValue*i)/i).toFixed(4)}}return a.\u0275fac=function(i){return new(i||a)(t.Y36(F.Z),t.Y36(w.F0),t.Y36(b.B),t.Y36(k.Uc),t.Y36(Z.jv),t.Y36(D.H7),t.Y36(R.h),t.Y36(L.p),t.Y36(I.g),t.Y36(V.uw))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-mmf"]],decls:138,vars:68,consts:[[1,"mmf-wrapper"],[1,"page-title",2,"grid-column-start","span 3"],["href","https://blog.titi.finance/mmf-an-innovative-unilateral-liquidity-provision-paradigm-in-defi-world-991e87863d97","target","_blank"],[1,"mmf-card","mat-elevation-z4"],[2,"justify-self","center"],[2,"justify-self","start"],[2,"justify-self","end"],[1,"golden-highlight",2,"justify-self","start","grid-column-start","span 2"],["text","This part of the reward needs to be claimed manually by the user."],[1,"golden-highlight",2,"justify-self","end"],["text","This token APY(tAPY) based on current prices of TiTi, current epoch's reward rate and the proportion of your staked value in the entire pool. This part of the reward requires the user to manually claim."],[2,"justify-self","end","grid-column-start","span 2"],["text","This reward is just a reference value, When the user withdraws USDC, the user's remaining staked value is seen as the latest principal, and the calculation of received USDC rewards is restarted."],["text","This variable APY(vAPY) based on partial PAV(USDC) accumulated today through ReOrders. These USDC reward will be automatically increased to your staked value with each ReOrders to achieve the effect of compound interest, you will see your staked value continue to increase."],["text","Estimated value based on the PAV rewards generated on the day."],["text","Estimated value based on the PAV rewards generated from the beginning till now."],[4,"ngIf"],["appearance","outline",1,"mmf-input"],["type","text","matInput","","disabled","",2,"font-size","18px",3,"ngModel","input"],["matPrefix","","svgIcon","TiTi",2,"padding-right","12px"],["matSuffix","","mat-flat-button","",2,"margin-bottom","12px","background-color","transparent","color","#2DD6B5",3,"click"],["mat-raised-button","","color","primary",1,"mmf-input-btn",3,"disabled","click"],[1,"pool-info-card","mat-elevation-z4",2,"grid-row-start","span 2"],[1,"pool-info-title"],[2,"justify-self","center","grid-column-start","span 2"],[2,"font-size","8px"],[2,"justify-self","start","grid-column-start","span 2"],["text","The number of TiTi rewards released per second, this part of the reward will be distributed according to the proportion of the user's staked value."],[1,"pool-chart"],[2,"width","100%","height","100%",3,"option"],[1,"mat-elevation-z4",2,"grid-column-start","1","grid-column-end","2","display","grid","grid-template-columns","1fr 1fr 1fr 1fr","row-gap","1rem"],[2,"grid-column-start","span 4","justify-self","center"],[1,"divider",2,"grid-column-start","span 4","justify-self","center"],[2,"grid-column-start","span 4","display","grid","grid-template-columns","1fr 1fr 1fr 1fr","row-gap","0.5rem","column-gap","8px","font-size","max(0.8rem,12px)","max-height","20vh","overflow-y","scroll"],[4,"ngFor","ngForOf"],["matInput","","type","text",2,"font-size","18px",3,"ngModel","input"],["matPrefix","","svgIcon","USDC",2,"padding-right","12px"],["type","text","matInput","",2,"font-size","18px",3,"ngModel","input"],[2,"grid-column-start","span 2"],["target","_blank",2,"width","100%","display","flex","flex-direction","row","text-decoration","none",3,"href"],[2,"display","block","overflow","hidden","text-overflow","ellipsis","max-width","8vw"],[2,"width","12px","height","12px","font-size","12px","line-height","12px"],[3,"ngSwitch"],["class","golden-highlight",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"golden-highlight"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h1"),t._uU(3,"Market Maker Fund (MMF)"),t.qZA(),t.TgZ(4,"p"),t._uU(5,"Single-sided Liquidity Provision, Zero Risk, Dual Mining Rewards. "),t.TgZ(6,"a",2),t._uU(7,"Click to Learn More"),t.qZA(),t._uU(8,"."),t.qZA(),t.qZA(),t.TgZ(9,"div",3),t._UZ(10,"div"),t.TgZ(11,"h2",4),t._uU(12,"MMF-USDC"),t.qZA(),t._UZ(13,"div"),t.TgZ(14,"span",5),t._uU(15,"Total Staked Value:"),t.qZA(),t._UZ(16,"div"),t.TgZ(17,"span",6),t._uU(18),t.ALo(19,"numberFormat"),t.qZA(),t.TgZ(20,"span",5),t._uU(21,"Your Staked Value:"),t.qZA(),t._UZ(22,"div"),t.TgZ(23,"span",6),t._uU(24),t.ALo(25,"numberFormat"),t.qZA(),t.TgZ(26,"span",7),t._uU(27,"Claimable TiTi Rewards"),t._UZ(28,"titi-tooltip",8),t._uU(29,":"),t.qZA(),t.TgZ(30,"span",9),t._uU(31),t.ALo(32,"numberFormat"),t.qZA(),t.TgZ(33,"span",5),t._uU(34,"TiTi Rewards tAPY"),t._UZ(35,"titi-tooltip",10),t._uU(36,":"),t.qZA(),t.TgZ(37,"span",11),t._uU(38),t.ALo(39,"numberFormat"),t.qZA(),t.TgZ(40,"span",7),t._uU(41," Received PAV USDC rewards "),t._UZ(42,"titi-tooltip",12),t._uU(43,":"),t.qZA(),t.TgZ(44,"span",9),t._uU(45),t.ALo(46,"numberFormat"),t.qZA(),t.TgZ(47,"span",5),t._uU(48,"PAV USDC vAPY "),t._UZ(49,"titi-tooltip",13),t._uU(50,":"),t.qZA(),t.TgZ(51,"span",11),t._uU(52),t.ALo(53,"numberFormat"),t._UZ(54,"titi-tooltip",14),t._uU(55),t.ALo(56,"numberFormat"),t._UZ(57,"titi-tooltip",15),t.qZA(),t.YNc(58,H,21,14,"ng-container",16),t.YNc(59,j,6,2,"ng-container",16),t.TgZ(60,"mat-form-field",17),t.TgZ(61,"mat-label"),t._uU(62),t.ALo(63,"numberFormat"),t.qZA(),t.TgZ(64,"input",18),t.NdJ("input",function(s){return e.onClaimInputValueChange(s)}),t.qZA(),t._UZ(65,"mat-icon",19),t.TgZ(66,"button",20),t.NdJ("click",function(){return e.maxClaimInputValue()}),t._uU(67,"MAX"),t.qZA(),t.qZA(),t.TgZ(68,"button",21),t.NdJ("click",function(){return e.onClaim()}),t._uU(69),t.qZA(),t.qZA(),t.TgZ(70,"div",22),t.TgZ(71,"h2",23),t._uU(72,"MMF Rewards Info"),t.qZA(),t._UZ(73,"mat-divider"),t.TgZ(74,"mat-chip-list",24),t.TgZ(75,"mat-chip",25),t._uU(76,"PAV USDC Rewards"),t.qZA(),t.qZA(),t._UZ(77,"mat-divider"),t.TgZ(78,"span",26),t._uU(79,"Total Distributed USDC:"),t.qZA(),t.TgZ(80,"span",11),t._uU(81),t.ALo(82,"number"),t.qZA(),t.TgZ(83,"span",26),t._uU(84,"Last 24H Distributed USDC:"),t.qZA(),t.TgZ(85,"span",11),t._uU(86),t.ALo(87,"numberFormat"),t.qZA(),t._UZ(88,"mat-divider"),t.TgZ(89,"mat-chip-list",24),t.TgZ(90,"mat-chip"),t._uU(91,"TiTi Rewards"),t.qZA(),t.qZA(),t._UZ(92,"mat-divider"),t.TgZ(93,"span",26),t._uU(94,"Distributed TiTi Rewards:"),t.qZA(),t.TgZ(95,"span",11),t._uU(96),t.ALo(97,"numberFormat"),t.qZA(),t.TgZ(98,"span",26),t._uU(99,"Current Epoch TiTi Rewards:"),t.qZA(),t.TgZ(100,"span",11),t._uU(101),t.ALo(102,"number"),t.qZA(),t.TgZ(103,"span",26),t._uU(104,"Current Epoch Rewards Rate"),t._UZ(105,"titi-tooltip",27),t._uU(106,":"),t.qZA(),t.TgZ(107,"span",11),t._uU(108),t.ALo(109,"number"),t.qZA(),t.TgZ(110,"span",26),t._uU(111,"Current Epoch Period:"),t.qZA(),t.TgZ(112,"span",11),t._uU(113),t.ALo(114,"date"),t.ALo(115,"date"),t.qZA(),t._UZ(116,"mat-divider"),t.TgZ(117,"mat-chip-list",24),t.TgZ(118,"mat-chip"),t._uU(119,"Historical APY"),t.qZA(),t.qZA(),t._UZ(120,"mat-divider"),t.TgZ(121,"div",28),t._UZ(122,"titi-chart-wrapper",29),t.qZA(),t.qZA(),t.TgZ(123,"div",30),t.TgZ(124,"h2",31),t._uU(125,"User Action Records"),t.qZA(),t.TgZ(126,"span"),t._uU(127,"Tx Hash"),t.qZA(),t.TgZ(128,"span"),t._uU(129,"Act."),t.qZA(),t.TgZ(130,"span"),t._uU(131,"Amount"),t.qZA(),t.TgZ(132,"span"),t._uU(133,"Time"),t.qZA(),t._UZ(134,"div",32),t.TgZ(135,"div",33),t.YNc(136,z,17,14,"ng-container",34),t.YNc(137,$,3,0,"ng-container",16),t.qZA(),t.qZA(),t.qZA()),2&i&&(t.xp6(18),t.hij("$",t.xi3(19,23,e.totalStakedLPToken,4),""),t.xp6(6),t.hij("$",t.xi3(25,26,e.principal,4),""),t.xp6(7),t.hij("",t.xi3(32,29,e.claimableValue,4)," TiTi"),t.xp6(7),t.hij(" ",t.xi3(39,32,e.currentAPY.titi,4),"% "),t.xp6(7),t.hij(" ",e.stakedLPTokenBalance-e.principal<0?0:t.xi3(46,35,e.stakedLPTokenBalance-e.principal,4)," USDC "),t.xp6(7),t.hij("Daily ",t.xi3(53,38,e.currentAPY.mmf,4),"% "),t.xp6(3),t.hij("/ Avg ",t.xi3(56,41,100*e.avgMmfApy,4),"%"),t.xp6(3),t.Q6J("ngIf",e.isApproved),t.xp6(1),t.Q6J("ngIf",!e.isApproved),t.xp6(3),t.hij("Claimable: ",t.xi3(63,44,e.claimableValue,4)," TiTi"),t.xp6(2),t.Q6J("ngModel",e.claimInputValue),t.xp6(4),t.Q6J("disabled",!e.claimInputValue||e.isZero(e.claimInputValue)||e.isLoading),t.xp6(1),t.Oqu(e.isLoading?"waiting...":"CLAIM"),t.xp6(12),t.hij("",t.xi3(82,47,e.formatTokenValue(e.mmfTotalReward,"6"),"1.2-4")," USDC"),t.xp6(5),t.hij("",t.xi3(87,50,e.mmfRewardIn24H,4)," USDC"),t.xp6(10),t.hij("",t.xi3(97,53,e.distributedTiTiRewards,4)," TiTi"),t.xp6(5),t.hij("",t.xi3(102,56,e.getCurrentEpochTiTiRewards(),"1.0")," TiTi"),t.xp6(7),t.hij("",t.xi3(109,59,e.formatTokenValue(e.rewardRate+"","18"),"1.2-4")," TiTi/sec"),t.xp6(5),t.AsE(" ",t.xi3(114,62,1e3*e.startTime,"dd/M/y")," - ",t.xi3(115,65,1e3*e.periodFinish,"dd/M/y"),""),t.xp6(9),t.Q6J("option",e.option),t.xp6(14),t.Q6J("ngForOf",e.mmfRecords),t.xp6(1),t.Q6J("ngIf",0==e.mmfRecords.length))},directives:[q.Q,d.O5,g.KE,g.hX,S.Nt,m.Fj,m.JJ,m.On,Z.Hw,g.qo,x.lW,g.R9,C.d,A.qn,A.HS,O.o,d.sg,d.RF,d.n9],pipes:[Y.p,d.JJ,d.uU],styles:[".mmf-wrapper[_ngcontent-%COMP%]{padding:24px;display:grid;grid-template-columns:14fr 10fr;grid-column-gap:2vw;column-gap:2vw;grid-row-gap:2vw;row-gap:2vw}.mmf-card[_ngcontent-%COMP%]{align-self:start;justify-self:start;width:100%;display:grid;grid-template-columns:1fr 1fr 1fr;grid-row-gap:1rem;row-gap:1rem;align-items:center}.mmf-input[_ngcontent-%COMP%]{grid-column-start:1;grid-column-end:3}.mmf-btn[_ngcontent-%COMP%]{grid-column-start:1;grid-column-end:4}.mmf-input-btn[_ngcontent-%COMP%]{width:80%;justify-self:end;margin-bottom:18px;height:56px}.pool-info-card[_ngcontent-%COMP%]{align-self:start;justify-self:start;width:100%;display:grid;grid-template-columns:1fr 1fr 1fr 1fr;grid-row-gap:2rem;row-gap:2rem;align-items:center}.pool-info-title[_ngcontent-%COMP%]{grid-column-start:span 4;justify-self:center}.pool-chart[_ngcontent-%COMP%]{grid-column-start:1;grid-column-end:5;justify-self:center;width:100%;height:100%}@media screen and (max-width: 1024px){.mmf-wrapper[_ngcontent-%COMP%]{width:100%;padding:12px;display:grid;grid-template-columns:1fr;grid-row-gap:1rem;row-gap:1rem;margin:0}.mmf-card[_ngcontent-%COMP%]{width:100%}}"]}),a})()}];let G=(()=>{class a{}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[w.Bz.forChild(X)],w.Bz]}),a})();var K=r(45922),tt=r(87841);let it=(()=>{class a{}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[d.ez,G,m.u5,S.c,x.ot,Z.Ps,C.t,A.Hi,K.F,tt.m]]}),a})()}}]);